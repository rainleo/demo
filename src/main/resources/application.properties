## Mybatis 配置
mybatis.typeAliasesPackage=org.example.demo.domain
mybatis.mapperLocations=classpath:mapper/*.xml

# 数据库 配置
spring.datasource.druid.primary.url=jdbc:mysql://localhost:3306/primary_demo?autoReconnect=true&useUnicode=true&characterEncoding=utf8
spring.datasource.druid.primary.username=root
spring.datasource.druid.primary.password=root
spring.datasource.druid.primary.driver-class-name=com.mysql.jdbc.Driver

spring.datasource.druid.second.url=jdbc:mysql://localhost:3306/second_demo?autoReconnect=true&useUnicode=true&characterEncoding=utf8
spring.datasource.druid.second.username=root
spring.datasource.druid.second.password=root
spring.datasource.druid.second.driver-class-name=com.mysql.jdbc.Driver

#<editor-fold desc="第一个数据库 druid DataSource 配置">
# 连接池配置，说明请参考Druid Wiki，DruidDataSource配置属性列表
# 配置初始化大小、最小、最大
spring.datasource.druid.primary.initial-size=5
spring.datasource.druid.primary.min-idle=5
spring.datasource.druid.primary.max-active=20
#配置获取连接等待超时的时间
spring.datasource.druid.primary.max-wait=60000
#配置间隔多久才进行一次检测，检测需要关闭的空闲连接，单位是毫秒
spring.datasource.druid.primary.time-between-eviction-runs-millis=60000
#配置一个连接在池中最小生存的时间，单位是毫秒
spring.datasource.druid.primary.min-evictable-idle-time-millis=300000

spring.datasource.druid.primary.validation-query=select 'X'
spring.datasource.druid.primary.test-while-idle=true
spring.datasource.druid.primary.test-on-borrow=false
spring.datasource.druid.primary.test-on-return=false
#打开PSCache，并且指定每个连接上PSCache的大小
spring.datasource.druid.primary.pool-prepared-statements=false
spring.datasource.druid.primary.max-pool-prepared-statement-per-connection-size=20
#配置监控统计拦截的filters
spring.datasource.druid.primary.filters=stat,log4j2,wall,mergeStat
# 合并多个DruidDataSource的监控数据
spring.datasource.druid.primary.useGloalDataSourceStat=true
#</editor-fold>

#<editor-fold desc="第二个数据库 druid DataSource 配置">
# 连接池配置，说明请参考Druid Wiki，DruidDataSource配置属性列表
# 配置初始化大小、最小、最大
spring.datasource.druid.second.initial-size=1
spring.datasource.druid.second.max-active=20
spring.datasource.druid.second.min-idle=1
#配置获取连接等待超时的时间
spring.datasource.druid.second.max-wait=100
#配置间隔多久才进行一次检测，检测需要关闭的空闲连接，单位是毫秒
spring.datasource.druid.second.time-between-eviction-runs-millis=60000
#配置一个连接在池中最小生存的时间，单位是毫秒
spring.datasource.druid.second.min-evictable-idle-time-millis=300000

spring.datasource.druid.second.validation-query=select 'X'
spring.datasource.druid.second.test-while-idle=true
spring.datasource.druid.second.test-on-borrow=false
spring.datasource.druid.second.test-on-return=false
#打开PSCache，并且指定每个连接上PSCache的大小
spring.datasource.druid.second.pool-prepared-statements=false
spring.datasource.druid.second.max-pool-prepared-statement-per-connection-size=20
#配置监控统计拦截的filters
spring.datasource.druid.second.filters=stat,log4j2,wall
#</editor-fold>

#<editor-fold desc="WebStatFilter配置(用于采集web-jdbc关联监控的数据。)">
# WebStatFilter配置，说明请参考Druid Wiki，配置_配置WebStatFilter
spring.datasource.druid.web-stat-filter.enabled=true
spring.datasource.druid.web-stat-filter.url-pattern=/*
#过滤url
spring.datasource.druid.web-stat-filter.exclusions=*.js,*.gif,*.jpg,*.png,*.css,*.ico,/druid/*
# 关闭session或者开启session
spring.datasource.druid.web-stat-filter.session-stat-enable=false
spring.datasource.druid.web-stat-filter.session-stat-max-count=1000
# 配置principalSessionName，使得druid能够知道当前的session的用户是谁 xxx.user修改为你user信息保存在session中的sessionName。
# spring.datasource.druid.web-stat-filter.principal-session-name=xxx.user
# xxx.user修改为你user信息保存在cookie中的cookieName
#spring.datasource.druid.web-stat-filter.principal-cookie-name=xxx.user
# 配置profileEnable能够监控单个url调用的sql列表。
spring.datasource.druid.web-stat-filter.profile-enable=true
#</editor-fold>

#<editor-fold desc="StatViewServlet配置(监控平台内部设置)">
# StatViewServlet配置，说明请参考Druid Wiki，配置_StatViewServlet配置
spring.datasource.druid.stat-view-servlet.enabled=true
spring.datasource.druid.stat-view-servlet.url-pattern=/druid/*
spring.datasource.druid.stat-view-servlet.reset-enable=true
spring.datasource.druid.stat-view-servlet.login-username=niewenlong
spring.datasource.druid.stat-view-servlet.login-password=niewenlong
spring.datasource.druid.stat-view-servlet.allow=
spring.datasource.druid.stat-view-servlet.deny=
#</editor-fold>

#启用Spring关联监控配置
spring.datasource.druid.aop-patterns=com.example.demo.service.*

logging.config=classpath:log4j2-spring.xml




